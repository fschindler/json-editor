import { Meta, Canvas } from '@storybook/addon-docs';
import { JsonForm } from '@sagold/react-json-editor';
import { widgets } from '@sagold/rje-widgets';

<Meta title="ObjectActions" />

# object actions

Objects with `additionalProps=false` do not show an object action menu if no properties are missing

<Canvas>
  <JsonForm
    className="rje-theme rje-theme--light"
    addOptionalProps={true}
    schema={{
      title: 'all properties are required',
      type: 'object',
      options: {
        descriptionInline: true
      },
      properties: {
        optionalProperty: { title: 'Optional property', type: 'string' }
      }
    }}
  />
</Canvas>

Objects with `additionalProps=true` always object action menu even if no properties are missing so they can be removed again

<Canvas>
  <JsonForm
    className="rje-theme rje-theme--light"
    data={{
      optionalProperty: 'initial value'
    }}
    schema={{
      title: 'properties may be removed',
      type: 'object',
      options: {
        descriptionInline: true
      },
      properties: {
        optionalProperty: { title: 'Optional property', type: 'string' }
      }
    }}
  />
</Canvas>
