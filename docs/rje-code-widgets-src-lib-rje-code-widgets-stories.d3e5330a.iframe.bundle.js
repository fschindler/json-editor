"use strict";(self.webpackChunkjson_editor=self.webpackChunkjson_editor||[]).push([[3578],{"./packages/rje-code-widgets/src/lib/rje-code-widgets.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AllOfIfThenElse:()=>AllOfIfThenElse,OneOfSupport:()=>OneOfSupport,Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>rje_code_widgets_stories});var src=__webpack_require__("./packages/react-json-editor/src/index.ts"),rje_widgets_src=__webpack_require__("./packages/rje-widgets/src/index.ts"),JsonWidget=__webpack_require__("./packages/rje-code-widgets/src/lib/jsonwidget/JsonWidget.tsx"),react=__webpack_require__("./node_modules/react/index.js"),theme=__webpack_require__("./packages/rje-widgets/src/lib/theme.ts"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),rje_code_widgets=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[13].use[3]!./packages/rje-code-widgets/src/lib/rje-code-widgets.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(rje_code_widgets.Z,options);rje_code_widgets.Z&&rje_code_widgets.Z.locals&&rje_code_widgets.Z.locals;var _Primary$parameters,_Primary$parameters2,_AllOfIfThenElse$para,_AllOfIfThenElse$para2,_OneOfSupport$paramet,_OneOfSupport$paramet2,jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var propertySchema={type:"object",required:["productId","price"],properties:{productName:{title:"Name of product",description:"Full description of [product name](https://namechk.com/product-name-generator/), including product number",type:"string",minLength:1},header:{type:"object",title:"Product header",description:"A product header is shown **below** the the product picture. A _title_ should be short and descriptive, the following date the date of the actual product release, not the date of updating product information.",required:["title"],properties:{title:{title:"Product title",type:"string"},date:{title:"Date of entry",type:"string"}}},category:{enum:["mobility","entertainment","education",2923,!0]},constant:{const:"product-page"},productId:{title:"ID of product",type:"number"},price:{title:"Price of product, in Euros",type:"number"},tags:{title:"Keywords of product",type:"array",items:{type:"string",enum:["red","green","blue","cyan"]}}},additionalProperties:!1},defaultSchema={type:"object",options:{editJson:{enabled:!0,modalSize:"large"}},properties:{title:{title:"title",type:"string"},jsonString:{title:"Json Code Widget",type:"string",format:"json",options:{liveUpdate:!0,schema:propertySchema}},jsonStringRef:{type:"string",title:"Json Data using $ref",format:"json",options:{schema:{$ref:"#/$defs/propertySchema"}}},jsonStringMissingSchema:{title:"Json Code Widget",type:"string",format:"json"},jsonData:{type:"object",format:"json",$ref:"#/$defs/propertySchema"}},$defs:{propertySchema}},dataObject={productId:123,category:"enter",header:{title:"What a wreck"},productName:"",price:4563,tags:["home","green",123],yadda:123};const rje_code_widgets_stories={component:JsonWidget.jb,title:"packages/rje-code-widgets/JsonWidget"};var Template=function Template(args){var editorRef=(0,react.useRef)(null),_useState2=_slicedToArray((0,react.useState)(null),2),setData=(_useState2[0],_useState2[1]),_useState4=_slicedToArray((0,react.useState)(),2),history=_useState4[0],setHistory=_useState4[1];return(0,react.useEffect)((function(){editorRef.current&&setHistory(editorRef.current.plugin("history"))})),(0,jsx_runtime.jsxs)("div",{className:"rje-form rje-theme--light",style:theme.Z,children:[(0,jsx_runtime.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,jsx_runtime.jsx)(rje_widgets_src.zx,{icon:"undo",onPress:function onPress(){return null==history?void 0:history.undo()},disabled:0===(null==history?void 0:history.getUndoCount())}),(0,jsx_runtime.jsx)(rje_widgets_src.zx,{icon:"redo",onPress:function onPress(){return null==history?void 0:history.redo()},disabled:0===(null==history?void 0:history.getRedoCount())})]}),(0,jsx_runtime.jsx)(src.R_,{style:{maxWidth:680},addOptionalProps:!1,schema:args.schema,onChange:setData,data:args.data,ref:editorRef,plugins:[src.et],widgets:[JsonWidget.N8].concat(_toConsumableArray(rje_widgets_src.ZP))})]})};Template.displayName="Template";var Primary=Template.bind({});Primary.args={schema:defaultSchema,data:{jsonString:JSON.stringify(dataObject,null,2),jsonStringRef:JSON.stringify(dataObject,null,2),jsonData:dataObject}};var AllOfIfThenElse=Template.bind({});AllOfIfThenElse.args={schema:{format:"json",title:"allOf with multiple if-then-else statements",description:"**allOf** statement can combined multiple **if-then-else** statements. In this case, we want to add additional properties to the schema based on the presence of a specfic value. In case the schema is toggled, we do not want to lose its data in case the initial value is restored",type:"object",required:["addSchema"],properties:{addSchema:{title:"add schema?",type:"boolean",default:!1},additionalSchema:{title:"initial schema",type:"string"},secondSchema:{title:"second schema, based on additionalSchema having at least 1 character",type:"string"}},allOf:[{if:{properties:{addSchema:{type:"boolean",const:!0}}},then:{required:["additionalSchema"]}},{if:{required:["additionalSchema"],properties:{additionalSchema:{type:"string",minLength:1}}},then:{required:["secondSchema"]}}]},data:{}};var OneOfSupport=Template.bind({});OneOfSupport.args={data:{filters:{typeA:[{op:"nin",property:"energy_class",values:[]}],typeB:[]}},schema:{title:"Filter example",type:"object",required:["filters"],format:"json",properties:{filters:{title:"Filters",type:"object",required:["typeA","typeB"],properties:{typeA:{title:"Filter for TypeA",$ref:"#/$defs/filter"},typeB:{title:"Filter for TypeB",$ref:"#/$defs/filter"}}}},$defs:{filter:{type:"array",items:{oneOfProperty:"op",oneOf:[{$ref:"#/$defs/in:filter"},{$ref:"#/$defs/nin:filter"},{$ref:"#/$defs/eq:filter"}]},additionalItems:!1},"in:filter":{title:"in-filter",description:"in-filter accepts only entries that have one of the following values assigned for the given property.",type:"object",properties:{op:{const:"in"},property:{title:"Column Key",type:"string",minLength:1},values:{title:"List of allowed values",type:"array",items:{type:"string"}}}},"nin:filter":{title:"nin-filter",description:"nin-filter accepts only entries that have **not one of the following** values assigned for the given property.",type:"object",properties:{op:{const:"nin"},property:{title:"Column Key",type:"string",minLength:1},values:{title:"List of forbidden values",type:"array",items:{type:"string"}}}},"eq:filter":{title:"eq-filter",description:"eq-filter accepts only entries that exactly have this value on the specified property.",type:"object",properties:{op:{const:"eq"},property:{title:"Column Key",type:"string",minLength:1},values:{title:"Value that has to match",type:"string"}}}}}},Primary.parameters=_objectSpread(_objectSpread({},Primary.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_Primary$parameters=Primary.parameters)||void 0===_Primary$parameters?void 0:_Primary$parameters.docs),{},{source:_objectSpread({originalSource:'args => {\n  const editorRef = useRef<JsonEditor>(null);\n  const [data, setData] = useState<unknown>(null);\n  const [history, setHistory] = useState<HistoryPluginInstance>();\n  useEffect(() => {\n    editorRef.current && setHistory((editorRef.current.plugin(\'history\') as HistoryPluginInstance));\n  });\n  return <div className="rje-form rje-theme--light" style={theme}>\n            <div style={{\n      display: \'flex\',\n      gap: 8\n    }}>\n                <Button icon="undo" onPress={() => history?.undo()} disabled={history?.getUndoCount() === 0}></Button>\n                <Button icon="redo" onPress={() => history?.redo()} disabled={history?.getRedoCount() === 0}></Button>\n            </div>\n            <JsonForm style={{\n      maxWidth: 680\n    }} addOptionalProps={false} schema={args.schema} onChange={setData} data={args.data} ref={editorRef} plugins={[HistoryPlugin]} widgets={[JsonWidgetPlugin, ...widgets]} />\n        </div>;\n}'},null===(_Primary$parameters2=Primary.parameters)||void 0===_Primary$parameters2||null===(_Primary$parameters2=_Primary$parameters2.docs)||void 0===_Primary$parameters2?void 0:_Primary$parameters2.source)})}),AllOfIfThenElse.parameters=_objectSpread(_objectSpread({},AllOfIfThenElse.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_AllOfIfThenElse$para=AllOfIfThenElse.parameters)||void 0===_AllOfIfThenElse$para?void 0:_AllOfIfThenElse$para.docs),{},{source:_objectSpread({originalSource:'args => {\n  const editorRef = useRef<JsonEditor>(null);\n  const [data, setData] = useState<unknown>(null);\n  const [history, setHistory] = useState<HistoryPluginInstance>();\n  useEffect(() => {\n    editorRef.current && setHistory((editorRef.current.plugin(\'history\') as HistoryPluginInstance));\n  });\n  return <div className="rje-form rje-theme--light" style={theme}>\n            <div style={{\n      display: \'flex\',\n      gap: 8\n    }}>\n                <Button icon="undo" onPress={() => history?.undo()} disabled={history?.getUndoCount() === 0}></Button>\n                <Button icon="redo" onPress={() => history?.redo()} disabled={history?.getRedoCount() === 0}></Button>\n            </div>\n            <JsonForm style={{\n      maxWidth: 680\n    }} addOptionalProps={false} schema={args.schema} onChange={setData} data={args.data} ref={editorRef} plugins={[HistoryPlugin]} widgets={[JsonWidgetPlugin, ...widgets]} />\n        </div>;\n}'},null===(_AllOfIfThenElse$para2=AllOfIfThenElse.parameters)||void 0===_AllOfIfThenElse$para2||null===(_AllOfIfThenElse$para2=_AllOfIfThenElse$para2.docs)||void 0===_AllOfIfThenElse$para2?void 0:_AllOfIfThenElse$para2.source)})}),OneOfSupport.parameters=_objectSpread(_objectSpread({},OneOfSupport.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_OneOfSupport$paramet=OneOfSupport.parameters)||void 0===_OneOfSupport$paramet?void 0:_OneOfSupport$paramet.docs),{},{source:_objectSpread({originalSource:'args => {\n  const editorRef = useRef<JsonEditor>(null);\n  const [data, setData] = useState<unknown>(null);\n  const [history, setHistory] = useState<HistoryPluginInstance>();\n  useEffect(() => {\n    editorRef.current && setHistory((editorRef.current.plugin(\'history\') as HistoryPluginInstance));\n  });\n  return <div className="rje-form rje-theme--light" style={theme}>\n            <div style={{\n      display: \'flex\',\n      gap: 8\n    }}>\n                <Button icon="undo" onPress={() => history?.undo()} disabled={history?.getUndoCount() === 0}></Button>\n                <Button icon="redo" onPress={() => history?.redo()} disabled={history?.getRedoCount() === 0}></Button>\n            </div>\n            <JsonForm style={{\n      maxWidth: 680\n    }} addOptionalProps={false} schema={args.schema} onChange={setData} data={args.data} ref={editorRef} plugins={[HistoryPlugin]} widgets={[JsonWidgetPlugin, ...widgets]} />\n        </div>;\n}'},null===(_OneOfSupport$paramet2=OneOfSupport.parameters)||void 0===_OneOfSupport$paramet2||null===(_OneOfSupport$paramet2=_OneOfSupport$paramet2.docs)||void 0===_OneOfSupport$paramet2?void 0:_OneOfSupport$paramet2.source)})});var __namedExportsOrder=["Primary","AllOfIfThenElse","OneOfSupport"]},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[13].use[3]!./packages/rje-code-widgets/src/lib/rje-code-widgets.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,'.cm-theme-light,.cm-theme-dark{border:0px solid rgba(0,0,0,0) !important;color:rgba(0,0,0,.87)}.cm-editor{border:1px solid rgba(34,36,38,.15);border-radius:.28571429rem;max-width:100%}.cm-editor.cm-focused{outline:none !important;border-color:#85b7d9}.field.error>.cm-theme-light>.cm-editor,.field.error>.cm-theme-dark>.cm-editor{border-color:#9f3a38;background:rgba(224,180,180,.25)}.cm-theme-light .cm-editor .cm-gutters{background-color:rgba(34,36,38,.03)}.cm-lint-marker{border-color:#9f3a38;border-radius:100%;border:2px solid #9f3a38;background-color:#e0b4b4}.cm-lint-marker:before{content:"" !important}.rje-field--json{max-width:100%}.rje-tooltip--jsonschema{padding:4px 8px;font-size:1em;max-width:640px}.rje-tooltip--jsonschema h1{font-size:1em;line-height:1.5em;padding-bottom:.2em;margin:0}.rje-tooltip--jsonschema p{font-size:1em}.rje-tooltip--pointer{font-size:.65em;padding:.2em}',"",{version:3,sources:["webpack://./packages/rje-code-widgets/src/lib/rje-code-widgets.scss"],names:[],mappings:"AAAA,+BAEI,yCAAA,CACA,qBAAA,CAGJ,WACI,mCAAA,CACA,0BAAA,CACA,cAAA,CAGJ,sBACI,uBAAA,CACA,oBAAA,CAGJ,+EAEI,oBAAA,CACA,gCAAA,CAGJ,uCACI,mCAAA,CAGJ,gBACI,oBAAA,CACA,kBAAA,CACA,wBAAA,CACA,wBAAA,CAGJ,uBACI,qBAAA,CAGJ,iBACI,cAAA,CAIJ,yBACI,eAAA,CACA,aAAA,CACA,eAAA,CAGJ,4BACI,aAAA,CACA,iBAAA,CACA,mBAAA,CACA,QAAA,CAGJ,2BACI,aAAA,CAGJ,sBACI,eAAA,CACA,YAAA",sourcesContent:[".cm-theme-light,\n.cm-theme-dark {\n    border: 0px solid transparent !important;\n    color: rgba(0, 0, 0, 0.87);\n}\n\n.cm-editor {\n    border: 1px solid rgba(34, 36, 38, 0.15);\n    border-radius: 0.28571429rem;\n    max-width: 100%;\n}\n\n.cm-editor.cm-focused {\n    outline: none !important;\n    border-color: #85b7d9;\n}\n\n.field.error > .cm-theme-light > .cm-editor,\n.field.error > .cm-theme-dark > .cm-editor {\n    border-color: #9f3a38;\n    background: rgba(224, 180, 180, 0.25);\n}\n\n.cm-theme-light .cm-editor .cm-gutters {\n    background-color: rgba(34, 36, 38, 0.03);\n}\n\n.cm-lint-marker {\n    border-color: #9f3a38;\n    border-radius: 100%;\n    border: 2px solid #9f3a38;\n    background-color: #e0b4b4;\n}\n\n.cm-lint-marker:before {\n    content: '' !important;\n}\n\n.rje-field--json {\n    max-width: 100%;\n}\n\n/* json-schema tooltip */\n.rje-tooltip--jsonschema {\n    padding: 4px 8px;\n    font-size: 1em;\n    max-width: 640px;\n}\n\n.rje-tooltip--jsonschema h1 {\n    font-size: 1em;\n    line-height: 1.5em;\n    padding-bottom: 0.2em;\n    margin: 0;\n}\n\n.rje-tooltip--jsonschema p {\n    font-size: 1em;\n}\n\n.rje-tooltip--pointer {\n    font-size: 0.65em;\n    padding: 0.2em;\n}\n"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___}}]);